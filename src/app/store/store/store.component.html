<div class="wrapper" *ngIf="isAuthorized">
    <div class="company-heading bg-offwhite">
        <span class="print-icon" (click)="printToCart('printSectionId')" *ngIf="rights?.edit=='1'">
            <img src="../../assets/images/print-icon.png" alt="print icon">
        </span>
        <h2>{{_util.getCompanyHeaderForStore()}}</h2>
        <span *ngIf="rights?.edit=='1'" [ngClass]="{'submit-text' : isFormOpen == false}" class="lock-icon" (click)="save(storeForm)"
            title="save">
            <span class="unlock">
                <i class="fa fa-unlock"></i>
            </span>
            <span class="lock">
                <i class="fa fa-lock"></i>
            </span>
        </span>
    </div>
    <div class="add-boutique-form clearfix">
        <div id="printSectionId">
            <form [formGroup]="storeForm" novalidate id='printSectionId'>
                <div class="form-block store-block">
                    <div class="width-20">
                        <div class="company-block">
                            <div title="{{'Store A' | translate}}">
                                <figure>
                                    <div class="company-img upload-img">
                                        <span>
                                            <img [src]="base64Image">
                                        </span>
                                        <input type="file" name="pic" (change)='storeImageSet($event)' [hidden]="!isFormOpen">
                                    </div>
                                    <figcaption> {{'Store A' | translate}} </figcaption>
                                </figure>
                            </div>
                        </div>
                    </div>
                    <div class="width-80">
                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <div class="form-group width-half store-field">
                                    <label>{{'Store Name *' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="1" formControlName="store_name" [ngClass]="{'error': storeForm.controls['store_name'].touched == true && storeForm.controls['store_name'].hasError('required')}">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group width-half store-field">
                                    <label>{{'Short Name *' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="2" formControlName="short_name" [ngClass]="{'error': storeForm.controls['short_name'].touched == true && storeForm.controls['short_name'].hasError('required')}">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="form-group store-field">
                                <label>{{'Address' | translate}}</label>
                                <!-- <input type="text"  placeholder="Address" class="form-control" tabindex="3" formControlName="address"> -->
                                <input type="text" class="form-control" tabindex="3" places-auto-complete (place_changed)="addressCallback($event)" formControlName="address">
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-sm-6 width-half">
                                <div class="form-group store-field">
                                    <label>{{'Postal Code *' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="4" [ngClass]="{'error': storeForm.controls['postal_code'].touched == true && storeForm.controls['postal_code'].hasError('required')}"
                                        formControlName="postal_code">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group width-half store-field">
                                    <label>{{'City' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="5" formControlName="city">
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <div class="form-group width-half store-field">
                                    <label>{{'Province/State *' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="6" formControlName="state" [ngClass]="{'error': (storeForm.controls['state'].touched == true && storeForm.controls['state'].hasError('required')) || ( storeForm.controls['state'].touched == true && storeForm.controls['state'].hasError('nameValidation') )}">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group width-half store-field">
                                    <label>{{'Country' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="7" formControlName="country">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="store-detail">
                    <div class="contact-block">
                        <div class="contact-user">
                            <div title="{{'Contact' | translate}}">
                                <figure>
                                    <div class="contact-img upload-img">
                                        <span>
                                            <img [src]="base64ImageContact">
                                        </span>
                                        <input type="file" name="pic" (change)="storeImageSetContact($event)" [hidden]="!isFormOpen">
                                    </div>
                                    <figcaption> {{'Contact' | translate}} </figcaption>
                                </figure>
                            </div>
                        </div>
                        <div class="contact-detail">
                            <div class="col-sm-12">
                                <div class="form-group width-half store-field">
                                    <label>{{'Name' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="8" formControlName="store_contact_person_name">
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group width-half store-field">
                                    <label>{{'Position' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="9" formControlName="store_contact_person_position">
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group width-half store-field">
                                    <label>{{'Telefon' | translate}}</label>
                                    <input type="text" class="form-control" tabindex="10" formControlName="store_contact_person_telephone" [ngClass]="{'error': storeForm.controls['store_contact_person_telephone'].touched == true && storeForm.controls['store_contact_person_telephone'].hasError('numberValidation') }">
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group width-half store-field">
                                    <label>{{'Email' | translate}}</label>
                                    <input type="email" class="form-control" tabindex="11" formControlName="store_contact_person_email" [ngClass]="{'error': storeForm.controls['store_contact_person_email'].touched == true && storeForm.controls['store_contact_person_email'].hasError('emailValidation') }">
                                </div>
                            </div>
                        </div>
                        <div class="map-sec">
                            <div class="map-container">
                                <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d235014.2579163219!2d72.43965893566896!3d23.020181765683933!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x395e848aba5bd449%3A0x4fcedd11614f6516!2sAhmedabad%2C+Gujarat!5e0!3m2!1sen!2sin!4v1522839431925"
                                    width="600" frameborder="0" style="border:0" allowfullscreen></iframe> -->
                                <!-- <ngui-map center="Brampton, Canada"></ngui-map> -->
                                <!-- <ngui-map zoom="9" center="{{cityMap}}, {{countryMap}}"> -->
                                <!-- <marker [position]="Brampton, Canada"></marker> -->
                                <ngui-map zoom="9" center="{{cityMap}}, {{countryMap}}">
                                    <marker [position]="pos">
                                    </marker>
                                </ngui-map>
                                <h2>{{'Google' | translate}}</h2>
                            </div>
                        </div>
                    </div>
                    <div class="timing-block">
                        <h2>{{'Opening Time *' | translate}}</h2>
                        <div class="time-table">
                            <div class="form-group">
                                <label>{{'Monday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="12" formControlName="mon_timing" [ngClass]="{'error': storeForm.controls['mon_timing'].touched == true && storeForm.controls['mon_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Tuesday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="13" formControlName="tue_timing" [ngClass]="{'error': storeForm.controls['tue_timing'].touched == true && storeForm.controls['tue_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Wednesday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="14" formControlName="wed_timing" [ngClass]="{'error': storeForm.controls['wed_timing'].touched == true && storeForm.controls['wed_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Thursday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="15" formControlName="thu_timing" [ngClass]="{'error': storeForm.controls['thu_timing'].touched == true && storeForm.controls['thu_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Friday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="16" formControlName="fri_timing" [ngClass]="{'error': storeForm.controls['fri_timing'].touched == true && storeForm.controls['fri_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Saturday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="17" formControlName="sat_timing" [ngClass]="{'error': storeForm.controls['sat_timing'].touched == true && storeForm.controls['sat_timing'].hasError('required')}">
                            </div>
                            <div class="form-group">
                                <label>{{'Sunday' | translate}}</label>
                                <input class="form-control" type="text" tabindex="18" formControlName="sun_timing" [ngClass]="{'error': storeForm.controls['sun_timing'].touched == true && storeForm.controls['sun_timing'].hasError('required')}">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="notification-sec">
        <h2 *ngIf="unReadNotificationList?.length > 0">
            <img src="../../assets/images/pencil-icon.png" alt="pencil icon">
        </h2>
        <div class="notification-list">
            <div class="notification-block" *ngFor="let notification of unReadNotificationList; let index = index;" [ngClass]="{'boutique-noti':notification.notification_type == '0', 'admin-noti':notification.notification_type == '1'}">
                <div class="date-block">
                    <span class="date">{{notification.date_1 | date : 'dd.MM.yyyy'}}</span>
                    <span class="day">{{notification.date_1 | date : 'E'}}.</span>
                </div>
                <div class="content-block">{{notification.notification_text}}
                    <span class="checkbox">
                        <label>
                            <input type="checkbox" (change)="readNotification(notification, index)">
                            <span class="checker"></span>
                        </label>
                    </span>
                </div>
            </div>
        </div>

        <h2 class="confirm-notification">
            <img src="../../assets/images/tick-icon.png" alt="pencil icon">
            <span class="visibility" (click)="hideNotification()">
                <img *ngIf="hideNotificationFlag == false" src="../../assets/images/un-visible.png" alt="">
            </span>
            <span class="visibility" (click)="hideNotification()">
                <img *ngIf="hideNotificationFlag == true" src="../../assets/images/visible.png" alt="">
            </span>
        </h2>
        <div class="confirm-notification" *ngIf="readNotificationsList?.length > 0">
            <!-- <h2>
                <img src="../../assets/images/tick-icon.png" alt="pencil icon">
                <span class="visibility">
                    <img src="../../assets/images/un-visible.png" alt="">
                </span>
            </h2> -->
            <div *ngIf="hideNotificationFlag">
                <div class="notification-block" *ngFor="let notification of readNotificationsList; let index = index;" [ngClass]="{'boutique-noti':notification.notification_type == '0', 'admin-noti':notification.notification_type == '1'}">
                    <div class="date-block">
                        <span class="date">{{notification.date_1 | date : 'dd.MM.yyyy'}}</span>
                        <span class="day">{{notification.date_1 | date : 'E'}}.</span>
                    </div>
                    <div class="content-block">{{notification.notification_text}}
                        <span class="checkbox">
                            <label>
                                <input type="checkbox" checked>
                                <span class="checker"></span>
                            </label>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="wrapper" *ngIf="!isAuthorized">
    <div class="unauthorized-sec">
        <div class="unauthorized-msg">
            <div class="unauthorized-img">
                <span>
                    <img src="../../../assets/images/app-icon.png" alt="app icon">
                </span>
            </div>
            <div class="unauthorized-content">
                <h2>{{'You are unauthorized user to perform this activity' | translate}}</h2>
            </div>
        </div>
    </div>
</div>